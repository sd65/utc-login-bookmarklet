<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="javascripts/main.js"></script>
    <title>1 click - UTC-login-bookmarklet</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1><span style='color:rgba(188, 40, 40, 1);'>1 click</span> UTC-login-bookmarklet</h1>
          <h2>Un bookmarklet pour se logger en 1 clic sur l'ENT de l'UTC</h2>
        </header>

        <section id="main_content">

          <h1 style="margin-bottom: 10px">Présentation</h1>

            <p>Marre de rentrer son identifiant et son mot de passe pour l'ENT de l'UTC ? <br/>Créez ici un bookmarklet (un favori intelligent) qui vous permet de :
            <ul> 
              <li>Vous rediriger sur la page de login de l'ENT (si vous n'y êtes pas)</li>
              <li>Remplir votre identifiant et votre mot de passe automatiquement puis lancer l'ENT</li>
            </ul>
            Chaque action est réalisée en un clic sur le favori (impossible de faire les deux en même temps pour le moment).</p>

          <h1 style="margin-bottom: 10px">Mode d'emploi</h1>

          <p>
            <ul> 
              <li>Indiquez votre couple nom d'utilisateur/mot de passe ci-dessous </li>
              <li>Faites glisser le bouton "Glissez moi !" dans votre barre de favoris</li>
              <li>Enjoy</li>
            <ul>
          </p>

          <h1 style="margin-bottom: 10px">Rentrez vos identifiants ici</h1>

          <input placeholder="Nom d'utilisateur" type='text' name='username' autocomplete='off'/>
          <input style="margin-top:20px" placeholder='Mot de passe' type='password' name='password' autocomplete='off'/>

          <span id="helper" style="text-align:center">Glissez ce bouton dans votre barre de favoris :</span>
          <a href="" id="dragMe" class="button"><span>1 Click UTC</span></a>

          <hr/>

          <h1 style="margin-bottom: 10px">Mais c'est secure ça ?</h1>

          <p>Tout d'abord, tout ce que vous rentrez sur le site est uniquement accessible à vous (pour les GI : c'est du javascript, donc exécuté sur le client). Donc aucun risque que qui que ce soit récupère vos login/MdP sur ce site.<br/>
            En revanche, votre mot de passe sera enregistré en clair dans les favoris votre navigateur (Firefox, Chrome, etc). C'est pas le top du top, car quelqu'un qui ouvre votre navigateur peut se débrouiller pour le récupérer...mais franchement, à quoi ça sert de le faire ?  <br/> <br/>
            Voici le code du bookmarklet :
            <p>
          <pre id='code'>

            <code>
javascript: 
if (window.location.hostname != "cas.utc.fr") {
    window.location.href = "https://cas.utc.fr/cas/login?service=https://webapplis.utc.fr/ent/index.jsf";
} else {
    document.getElementById("username").value = '</code><code id="usernameField">username</code><code>' ;
    document.getElementById("password").value = '</code><code id="passwordField">password</code><code>' ;
    document.forms['credentials'].submit();
}
            </code>

          </pre>

        </section>

         <hr/>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/sd65/utc-login-bookmarklet" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <footer>
          UTC-login-bookmarklet is maintained by <a href="https://github.com/sd65">sd65 - Sylvain Doignon </a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Based on Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>